{% extends "base.html" %}

{% block title %}Customer Support{% endblock %}

{% block content %}

<div class="support-container">

    <h1>Customer Support</h1>
    <p>We're here to help! Choose an option below:</p>

    <div class="support-options">

        <div class="support-card">
            ğŸ’¬ <br> Use the chatbot (bottom right)
        </div>

        <a href="mailto:kxa284@student.bham.ac.uk" class="support-card">
            ğŸ“§ <br> Email Support
        </a>

    </div>

</div>

<div class="faq-section">

    <h2>Frequently Asked Questions</h2>

    <input type="text" id="faq-search" placeholder="Search FAQs..." class="faq-search">

    <div class="faq-item">
        <button class="faq-question">How long does delivery take?</button>
        <div class="faq-answer">
            <p>Standard delivery takes 3â€“5 business days. Orders over Â£50 qualify for free delivery.</p>
        </div>
    </div>

    <div class="faq-item">
        <button class="faq-question">What is your return policy?</button>
        <div class="faq-answer">
            <p>You can return items within 14 days as long as they're unworn and in original packaging.</p>
        </div>
    </div>

    <div class="faq-item">
        <button class="faq-question">Do you ship internationally?</button>
        <div class="faq-answer">
            <p>We currently ship only within the UK.</p>
        </div>
    </div>

    <div class="faq-item">
        <button class="faq-question">How can I contact support?</button>
        <div class="faq-answer">
            <p>You can email us anytime or use the chatbot for instant assistance. Please find our email at the top of this page.</p>
        </div>
    </div>

    <div class="faq-item">
        <button class="faq-question">What can the chatbot do for me?</button>
        <div class="faq-answer">
            <p>Our chatbot helps you find what you want faster and choose the right size.</p>
            <ul>
                <li><strong>Build outfits</strong> based on your style.</li>
                <li><strong>Browse categories</strong> (e.g. â€œShow me hoodiesâ€).</li>
                <li><strong>Filter by price</strong> (e.g. â€œShow me shoes under Â£50â€).</li>
                <li><strong>Search by colour</strong> (e.g. â€œShow me black jacketsâ€).</li>
                <li><strong>Answer FAQs</strong> about opening hours, location, shipping and returns</li>
                <li><strong>Recommend sizes</strong> using the <em>â€œAsk chatbot about this product ğŸ’¬â€</em> button on product pages.</li>
            </ul>
            <p>If youâ€™re not sure what to type, just send <strong>help</strong>.</p>
        </div>
    </div>


    <div class="faq-item">
        <button class="faq-question">How can I know the perfect size for me?</button>
        <div class="faq-answer">
            <p>Finding the right size is easy with our chatbot.</p>
            <ul>
                <li>Click <em>â€œAsk chatbot about this product ğŸ’¬â€</em> on the product's page.</li>
                <li>Select <strong>Fit &amp; sizing</strong>.</li>
                <li>Enter your height and weight.</li>
            </ul>
            <p>The chatbot will recommend the size that fits you best.</p>
        </div>
    </div>


</div>

{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener("DOMContentLoaded", function () {

        const questions = document.querySelectorAll(".faq-question");
        const searchInput = document.getElementById("faq-search");

        questions.forEach(q => {
            q.addEventListener("click", () => {
                const answer = q.nextElementSibling;

                document.querySelectorAll(".faq-answer").forEach(a => {
                    if (a !== answer) a.style.display = "none";
                });

                answer.style.display = (answer.style.display === "block") ? "none" : "block";
            });
        });

        searchInput.addEventListener("input", () => {
            const searchText = searchInput.value.toLowerCase();

            document.querySelectorAll(".faq-item").forEach(item => {
                const question = item.querySelector(".faq-question").textContent.toLowerCase();
                const answer = item.querySelector(".faq-answer").textContent.toLowerCase();

                item.style.display =
                    question.includes(searchText) || answer.includes(searchText)
                        ? "block"
                        : "none";
            });
        });

    });
</script>
{% endblock %}
